!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Splain",[],n):"object"==typeof exports?exports.Splain=n():e.Splain=n()}(this,function(){return function(e){function n(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var a={};return n.m=e,n.c=a,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=5)}([function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),o=a(1),s=t(o),l=a(2),u=t(l),c=a(7),f=t(c),d=a(8),p=t(d),h=a(9),g=t(h),y=a(10),m=t(y),b=a(4),v=t(b),k=a(13),w=t(k),T=a(3),x=t(T),M=function(){function e(n){i(this,e),this.new(n)}return r(e,[{key:"new",value:function(e){this.dictionaries={default:new s.default},this.dictionaries.default.addEntry(e||f.default),this.config=new u.default}},{key:"configure",value:function(e,n){this.config.configure(e,n)}},{key:"addEntry",value:function(e,n){n||(n="default"),this.dictionaries[n]||(this.dictionaries[n]=new s.default),this.dictionaries[n].addEntry(e)}},{key:"process",value:function(n,a){return a=a||{},a.dictionaryName||(a.dictionaryName="default"),e.processTemplate(n,new p.default(this.dictionaries[a.dictionaryName],this.config,a))}},{key:"verifyDictionary",value:function(e){return g.default.verifyEntries(e)}}],[{key:"processTemplate",value:function(e,n){var a=this;return n||(n=new p.default),v.default.getTemplates(e,n.config).forEach(function(t){var i=w.default.stripTemplate(t,n.config),r=x.default.getTokens(i,n.config),o=m.default.run(r,n);v.default.containsTemplate(o,n.config)&&(o=a.processTemplate(o,n)),e=e.replace(""+t,o),n.addTemplateResolution(i,o)}),e}}]),e}();n.default=M},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=a(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){t(this,e),this.entries={}}return i(e,[{key:"addEntry",value:function(e){var n=this;Object.keys(e).forEach(function(a){n.entries[a]=e[a]})}},{key:"getEntry",value:function(e){var n=e.split(".").reduce(function(e,n){if(null===e)return null;var a=e[n];return a||null},this.entries);return Array.isArray(n)?n:null}},{key:"getProcessedEntry",value:function(e,n){var a=this.getEntry(e);if(!a)return null;var t=o.default.processContexts(a,n);return o.default.processWeights(t)}}]),e}();n.default=s},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=function(){function e(){t(this,e),this.keepTemplateOnUnmatched=!0,this.templateTokens={opening:"{{",closing:"}}"},this.fixedResolutionToken="::",this.variableResolutionToken="##",this.keepTemplateOnUnmatched=!0,this.panicThreshold=1e5}return i(e,[{key:"configure",value:function(e,n){return this.hasOwnProperty(e)&&(this[e]=n),this}}]),e}();n.default=r},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=a(11),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=/[?`|\s]/,l=function(){function e(){t(this,e)}return i(e,null,[{key:"getTokens",value:function(e,n){for(var a=[],t=n.panicThreshold;e;){t--;var i=this.findNextToken(e,n);if(a.push(i),e=e.slice(i.raw.length),t<=0){console.warn("couldn't finish processing tokens after "+n.panicThreshold+" panicking..");break}}return a}},{key:"findNextToken",value:function(e,n){var a=1;if(e.startsWith(n.templateTokens.opening)){var t=1,i=n.templateTokens.opening.length,r=n.templateTokens.closing.length;for(a=i;a<e.length&&t>0;)e.indexOf(n.templateTokens.opening,a)===a?(t++,a+=i):e.indexOf(n.templateTokens.closing,a)===a?(t--,a+=r):a++;if(t>0)throw"template {"+e+"} has no closing token";return new o.default("template",e.substring(i,a-r),e.substring(0,a))}if("?"===e[0]){for(;!isNaN(e[a])&&" "!==e[a]&&a<e.length;)a++;return new o.default("?",e.substring(1,a)||"2",e.substring(0,a))}if("|"===e[0])return new o.default("|",null,"|");if(" "===e[0]||"\n"===e[0])return new o.default("blank",null,e[0]);if("`"===e[0]){for(;"`"!==e[a]&&a<e.length;)a++;return new o.default("lit",e.substring(1,a),e.substring(0,a+1))}var l=e.search(s),u=e.indexOf(n.templateTokens.opening);(-1===l||u>-1&&u<l)&&(l=u),l<0&&(l=e.length);var c=e.substring(0,l);return e.startsWith(n.variableResolutionToken)?new o.default("variable",c.substr(n.variableResolutionToken.length),c):e.startsWith(n.fixedResolutionToken)?new o.default("fixed",c.substr(n.fixedResolutionToken.length),c):new o.default("splain",c,c)}},{key:"findFirstTokenOfType",value:function(e,n){for(var a=0;a<n.length;a++)if(n[a].type===e)return a;return null}},{key:"getPrecedingTokenOfType",value:function(e,n,a){if(0===a)return null;for(var t=a-1;t>=0;t--)if(e.indexOf(n[t].type)>-1)return t;return null}},{key:"getProceedingTokenOfType",value:function(e,n,a){if(a===n.length-1)return null;for(var t=a+1;t<n.length;t++)if(e.indexOf(n[t].type)>-1)return t;return null}}]),e}();n.default=l},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=a(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){t(this,e)}return i(e,null,[{key:"getTemplates",value:function(e,n){var a=[],t=o.default.getLiterals(e),i=e.split(n.templateTokens.opening).length-1,r=e.split(n.templateTokens.closing).length-1;if(i>r)throw"Error: not enough closing tokens found in "+e;if(i<r)throw"Error: not enough opening tokens found in "+e;for(;e.includes(n.templateTokens.opening)&&e.includes(n.templateTokens.closing);)for(var s=e.indexOf(n.templateTokens.opening),l=0,u=s+2;u<e.length-1;u++)e[u]+e[u+1]===n.templateTokens.opening&&l++,e[u]+e[u+1]===n.templateTokens.closing&&(l>0?(l--,u+=1):(o.default.withinLiterals(s,u+1,t)||a.push(e.substring(s,u+2)),e=e.slice(0,s)+e.slice(u+2),u=e.length));return a}},{key:"containsTemplate",value:function(e,n){function a(e){return"\\"+e.split("").join("\\")}var t=a(n.templateTokens.opening)+".*?"+a(n.templateTokens.closing);return e.match(t)}}]),e}();n.default=s},function(e,n,a){"use strict";var t=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(t);e.exports=new i.default},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=function(){function e(){t(this,e)}return i(e,null,[{key:"processContexts",value:function(e,n){var a=e.filter(function(e){return e.hasOwnProperty("context")&&n.hasMatchingContext(e.context)});return a.length>0?a:e}},{key:"processWeights",value:function(e){if(null!==e&&Array.isArray(e))for(var n=void 0;-1!==(n=e.findIndex(function(e){return e.hasOwnProperty("weight")}));){for(var a=[],t=0;t<e[n].weight;t++)a.push(e[n].value);e.splice.apply(e,[n,1].concat(a))}return e}}]),e}();n.default=r},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={adj:{size:{xxl:["enormous","massive","gigantic","colossal","gargantuan","brobdingnagian"],xl:["giant","huge","vast","mammoth"],l:["big","jumbo","large"],s:["small","slight","petite","slender","trim","diminuitive"],xs:["tiny","minuscule","lilliputian"]},temp:{cold:["cold","freezing","icy","brisk","bleak","nippy","chilly","cool","bracing"],lukewarm:["tepid","room temperature"],warm:["hot","boiling","sweltering","roasting","scorching","melting","sizzling","burning","fiery"]},difficulty:{impossible:["insurmountable","intractable"],hard:["difficult","hard","troublesome","tough","arduous","laborious","strenuous","back breaking"],easy:["easy","simple","effortless","straightforward","trivial"]},boring:["uninteresting","bland"],interesting:["interesting","appealing","delightful","engaging","compelling","enchanting","gripping","fascinating","riveting","intriguing"],veryInteresting:["{{adverbs.very adj.interesting}}","{{adj.size.xxl'ly' adj.interesting}}"],speed:{fast:["fast","upbeat","quick","brisk","hasty"],slow:["slow","creep","laggy","crawl","lackadaisical","lethargic"]},color:["red","blue","green","purple","pink","gray","black","orange","brown","charcoal","cyan","magenta","fuchsia","yellow","gold","silver","white","teal","turquoise","mauve"]},adverbs:{speed:{fast:["quickly","speedily","hastily","rapidly","briskly","promptly","swiftly"],slow:["slowly","sluggishly","unhurriedly","lazily","casually","lackadaisically"]},very:["very","exceedingly","awfully","greatly","emininently","absolutely","extraordinarily","extremely","really","terribly"],frequency:{always:["always","constantly","unceasingly","incessantly"],frequently:["usually","normally","often","frequently"],sometimes:["sometimes","occasionally","intermittenly"],infrequently:["hardly ever","rarely","seldom","infrequently","irregularly","once in a blue moon"],never:["never"]}},weather:{rain:["drizzling","showering","raining","spitting","pouring","deluge"],sun:["sunny","warm","bright","luminous","radiant"],snow:["thundersnow","blizzard","flurry","snow storm","snowsquall","lake-effect snow","sleet","slush"],wind:["airstream","breeze","berg wind","crosswind","dust devil","easterly","gale","gust","headwind","jet stream","mistral","monsoon","sandstorm","prevailing wind","sea breeze","sicocco","southwester","tail wind","tornado","trade wind","turbulance","twister","typhoon","whirlwind","wind","windstorm","zephr"],winter:["freezing","snowy","icy","slick","frosty","arctic","bitingly chilly","polar"],fog:["foggy","misty","smog","haze"]},genre:{music:["rock","pop","punk","indie","hip hop","reggae","folk","country","blues","classical","jazz","alternative","electronic","metal","dubstep","rap","ragtime","disco"],film:["action","adventure","comedy","drama","fantasy","horror","thriller","romance","science fiction","western","documentary"],book:["non fiction","fiction","sci-fi","mystery","cyberpunk","graphic","young adult","children","classic","romance","fantasy","science fiction","speculative","poetry","suspense"]},nouns:{landtypes:["forest","desert","rain forest","mountains","plains","grasslands","bush","tundra","jungle","bog","swamp","veldt","hills","wetlands"],food:{fruit:["banana","apple","orange","pear","pineapple","grapefruit","avocado","passionfruit","strawberry","kiwifruit","grape","peach","cherry","guava","blueberry","blackberry","raspberry","watermelon","melon","mango","nectarine","starfruit","date","cranberry","persimmon","gooseberry","kumquat","jujube","boysenberry","longan"],desserts:["cupcakes","ice cream","cookies","brownies","apple pie","pumpkin pie","cake","cheesecake","muffin","fruit salad","tiramisu","tart","cobbler","macaron","macaroon","custard","rice pudding","sorbet","flan","gelato"],vegetables:["avocado","asparagus","arugula","beet","broccoli","brussel sprout","cabbage","carrot","cauliflower","celery","chard","collard greens","corn","kale","lettuce","mushroom","onion","pepper","parsley","rhubarb","parsnip","radish","spinach","squash","tomato","sweet potato","yam","zucchini"],breakfast:["eggs","toast","pancakes","coffee","orange juice","bacon","sausage","oatmeal","waffles","cereal","bagel","muesli","granola bar"],condiments:["ketchup","mustard","mayonaise","soy sauce","vinegar","sauerkraut","salsa","relish","hot sauce","sriracha"],lunch:["sandwich","soup","salad","pizza","leftovers","tacos","burrito","sushi"],dinner:["roast chicken","meatloaf","steak","baked potato","lasagna","casserole"]},clothes:{shirts:["t-shirt","button-down","dress","hawaiian","tank-top","tie-dye","flannel"],sweaters:["cardigan","wool","cashmere","knitted","cosby"],coats:["jacket","overcoat","army","camouflage","raincoat","slicker","dress"],pants:["jeans","trousers","corduroy","short","riding","skinny jeans","dress","cargo"],skirts:["riding","mini","maxi","tutu","ruffled"],shoes:["boots","tap","dance","high-heel","riding"],dresses:["gown","ballgown","evening","sun-dress"],socks:["hose","knee-high","jeggings","leggings","panty-hose","tights","nylons"],gloves:["mittens","fingerless","wool","army","riding","driving","lace","leather"],hats:["top","baseball cap","bowler","cowboy","tricorne","crown","bonnet"],accessories:["tie","kerchief"],swimsuits:["speedo","bikini","trunks","monokini","one-piece","wetsuit","diving suit"]},daytime:["morning","afternoon","evening","night","sunset","sunrise","dusk","dawn","midnight","twilight"],trees:["ash","beech","birch","conifer","fir","larch","maple","oak","pine","spruce","sycamore","willow","yew","rowan","hickory"],nationalParks:["Denali","Gates of the Arctic","Glacier Bay","Katmai","Kenai Fjords","Kobuk Valley","Lake Clark","Wrangell - St. Elias","American Samoa","Grand Canyon","Petrified Forest","Saguaro","Hot Springs","Channel Islands","Death Valley","Joshua Tree","Kings Canyon","Lassen Volcanic","Redwood","Sequoia","Yosemite","Black Canyon of the Gunnison","Great Sand Dunes","Mesa Verde","Rocky Mountain","Biscayne","Dry Tortugas","Everglades","Haleakala","Hawaii Volcanoes","Yellowstone","Mammoth Cave","Acadia","Isle Royale","Voyageurs","Glacier","Yellowstone","Great Basin","Carlsbad Caverns","Great Smoky Mountains","Theodore Roosevelt","Cuyahoga Valley","Crater Lake","Congaree","Badlands","Wind Cave","Great Smoky Mountains","Big Bend","Guadalupe Mountains","Virgin Islands","Arches","Bryce Canyon","Capitol Reef","Canyonlands","Zion","Shenandoah","Mount Rainier","North Cascades","Olympic","Grand Teton"],animal:{mammels:["monkey","lion","jaguer","elephant","gorilla","gopher","armadillo","pnagolin","dog","cat","bear","mouse","rabbit","horse","giraffe","donkey","wolf","coyote","rhino","hippo","aardvark","alpaca","llama","cow","moose","deer","dolphin","skunk","walrus","whale","zebra","goat","racoon","rat","chipmonk","panda","ferret","sheep"],reptiles:["snake"],birds:["crow","chicken","duck"],fish:["eel","clown","shark","tuna","salmon"],crustaceans:["crab","lobster"],molluscs:["clam"],insects:["ant","butterfly"],gastropods:["snail"],amphibians:["frog","salamander"]},country:["Afghanistan","Albania","Algeria","America","Andorra","Angola","Antigua","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bissau","Bolivia","Bosnia","Botswana","Brazil","British","Brunei","Bulgaria","Burkina","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech","Denmark","Djibouti","Dominica","East Timor","Ecuador","Egypt","El Salvador","Emirate","England","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Great Britain","Greece","Grenada","Grenadines","Guatemala","Guinea","Guyana","Haiti","Herzegovina","Holland","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palau","Panama","Papua","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino","Sao Tome","Saudi Arabia","Scotland","Scottish","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon","Somalia","South Africa","South Sudan","Spain","Sri Lanka","St Kitts","St Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Tobago","Togo","Tonga","Trinidad","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Kingdom","United States","Uruguay","USA","Uzbekistan","Vanuatu","Vatican","Venezuela","Vietnam","Wales","Welsh","Yemen","Zambia","Zimbabwe","Antigua and Barbuda","Bosnia and Herzegovina","Burkina Faso","Cabo Verde","Central African Republic","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","South Korea","Timor-Leste","Trinidad and Tobago","United Arab Emirates","United Kingdom","United States of America","Vatican City"],vehicle:["ambulance","bicycle","boat","bulldozer","bus","car","jeep","minibus","mini cooper","motorcycle","scooter","sidecar","snowplow","tank","taxi","tractor","truck"],place:["amusement park","apartments","beach","church","factory","farm","fire station","hospital","house","library","mosque","park","playground","police station","school","store","temple","university","zoo","office","synagogue","city hall"],sport:["football","cricket","basketball","baseball","hockey","tennis","volleyball","rugby","soccer","swimming","cycling"],states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],body:["ankle","arm","back","blood","liver","lung","kidney","bone","brain","cheek","chest","chin","ear","elbow","eye","finger","foot","hand","heart","knee","leg","lip","mouth","muscle","neck","nose","shoulder","stomach","teeth","toe","tongue","wrist"],season:["fall","autumn","winter","summer","spring","monsoon"],computer:["mouse","keyboard","processor","hard drive","software","RAM","monitor","speakers","usb","GPU","VRAM","motherboard","SSD","power supply","CPU","sound card","KVM switch"]}}},function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),o=a(1),s=t(o),l=a(2),u=t(l),c=function(){function e(n,a,t){i(this,e),this.dictionary=n||new s.default,this.config=a||new u.default,this.contexts=[],this.templateResolutions={},this.fixedResolutions={},this.dictionaryCache={},t&&Object.assign(this,t)}return r(e,[{key:"getResult",value:function(e){var n=this.dictionary.getProcessedEntry(e,this);if(null!==n&&Array.isArray(n)){var a=n[Math.floor(Math.random()*n.length)];return a.hasOwnProperty("context")?(this.addContext(a.context),a.value):a}return this.config.keepTemplateOnUnmatched?e:null}},{key:"addFixedResolution",value:function(e,n){this.fixedResolutions[e]=n}},{key:"getFixedResolution",value:function(e){return this.fixedResolutions[e]}},{key:"addContext",value:function(e){var n=this;this.contexts=this.contexts.concat(e),this.contexts=this.contexts.filter(function(e,a){return n.contexts.indexOf(e)===a})}},{key:"hasMatchingContext",value:function(e){return Array.isArray(e)&&this.contexts.some(function(n){return e.includes(n)})||this.contexts.includes(e)}},{key:"addTemplateResolution",value:function(e,n){this.templateResolutions[e]?this.templateResolutions[e]=this.templateResolutions[e].concat(n):this.templateResolutions[e]=[n]}}]),e}();n.default=c},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default={verifyEntries:function(e,n,a){var t=this;n||(n=new i.default(e.entries||e),n.config.configure("explicit",!0),n.config.configure("keepTemplateOnUnmatched",!1)),e.entries&&(e=e.entries);var r=[];for(var o in e)!function(i){var o=e[i],s=a?a+"."+i:i;Array.isArray(o)?o.forEach(function(e){var a=i+"."+e,t=n.process(""+e);(t.indexOf("null")>=0||t===a)&&r.push({token:e,key:s})}):r=r.concat(t.verifyEntries(o,n,s))}(o);return r}}},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=a(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){t(this,e)}return i(e,null,[{key:"run",value:function(e,n){this.executeOrs(e),this.executeConditionals(e);var a="";return e.forEach(function(e){a+=e.convert(n)}),a}},{key:"executeConditionals",value:function(e){for(;null!==o.default.findFirstTokenOfType("?",e);){var n=o.default.findFirstTokenOfType("?",e);if(null===n)break;if(1!==this.rand(e[n].data)){var a=o.default.getPrecedingTokenOfType(["lit","splain"],e,n);e.splice(a,n-a+1)}else e.splice(n,1)}}},{key:"executeOrs",value:function(e){for(;null!==o.default.findFirstTokenOfType("|",e);){var n=o.default.findFirstTokenOfType("|",e);if(null===n)break;var a=o.default.getPrecedingTokenOfType(["lit","splain"],e,n),t=o.default.getProceedingTokenOfType(["lit","splain"],e,n);if(null!==a&&null!==t){1===this.rand(2)?e.splice(a,n-a+1):(t+1<e.length&&"?"===e[t+1].type&&t++,e.splice(n,t-n+1))}else e.splice(n,1)}}},{key:"rand",value:function(e){return Math.floor(Math.random()*e)+1}}]),e}();n.default=s},function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),o=a(0),s=t(o),l=a(4),u=t(l),c=function(){function e(n,a,t){i(this,e),this.type=n,this.data=a,this.raw=t}return r(e,[{key:"convert",value:function(e){switch(this.type){case"splain":return e.getResult(this.data);case"fixed":var n=e.getFixedResolution(this.data);if(n)return n;var a=e.getResult(this.data);return e.addFixedResolution(this.data,a),a;case"variable":if(e.variables&&e.variables.hasOwnProperty(this.data)){var t=e.variables[this.data];return"function"==typeof t?t(e):t}return e.config.keepTemplateOnUnmatched?this.data:null;case"blank":return" ";case"lit":return this.data;case"template":var i=s.default.processTemplate(this.raw,e);return u.default.containsTemplate(i,e.config)?s.default.processTemplate(i,e):i;default:return}}}]),e}();n.default=c},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=function(){function e(){t(this,e)}return i(e,null,[{key:"getLiterals",value:function(e){for(var n=[],a=null,t=0;t<e.length;t++)"`"===e[t]&&(null===a?a=t:(n.push({start:a,end:t}),a=null));return n}},{key:"withinLiterals",value:function(e,n,a){var t=!1;return a.forEach(function(a){a.start<e&&a.end>n&&(t=!0)}),t}}]),e}();n.default=r},function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),r=function(){function e(){t(this,e)}return i(e,null,[{key:"stripTemplate",value:function(e,n){var a=e.indexOf(n.templateTokens.opening),t=e.lastIndexOf(n.templateTokens.closing)-n.templateTokens.closing.length;return a>-1&&(e=e.slice(0,a)+e.slice(a+n.templateTokens.opening.length)),t>-1&&(e=e.slice(0,t)+e.slice(t+n.templateTokens.opening.length)),e}}]),e}();n.default=r}])});